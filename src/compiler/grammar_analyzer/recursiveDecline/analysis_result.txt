递归下降语法分析结果
════════════════════════════════════════════════════════════

分析过程:
步骤 深度   分析栈/状态               当前输入              动作
----   ----     ----------                     --------                  ----
1      0        parse_program                  开始                    程序分析开始
2      1          parse_block                  begin                     进入block分析
3      1          期望: BEGIN                当前: begin             匹配 BEGIN
4      2            parse_statement            x                         进入statement分析
5      3              parse_assignment         x                         进入assignment分析
6      3              assignment → ID = expression ; x                         识别赋值语句
7      3              期望: ID               当前: x                 匹配 ID
8      3              期望: ASSIGN           当前: =                 匹配 ASSIGN
9      4                parse_expression       10                        进入expression分析
10     5                  parse_term           10                        进入term分析
11     6                    parse_factor       10                        进入factor分析
12     6                    factor → NUM     10                        识别数字
13     6                    期望: NUM        当前: 10                匹配 NUM
14     6                    parse_factor       完成                    退出factor分析
15     5                  parse_term           完成                    退出term分析
16     4                expression → expression + term +                         识别加法
17     4                期望: PLUS           当前: +                 匹配 PLUS
18     5                  parse_term           20                        进入term分析
19     6                    parse_factor       20                        进入factor分析
20     6                    factor → NUM     20                        识别数字
21     6                    期望: NUM        当前: 20                匹配 NUM
22     6                    parse_factor       完成                    退出factor分析
23     5                  parse_term           完成                    退出term分析
24     4                parse_expression       完成                    退出expression分析
25     3              期望: SEMICOLON        当前: ;                 匹配 SEMICOLON
26     3              parse_assignment         完成                    退出assignment分析
27     2            parse_statement            完成                    退出statement分析
28     2            parse_statement            y                         进入statement分析
29     3              parse_assignment         y                         进入assignment分析
30     3              assignment → ID = expression ; y                         识别赋值语句
31     3              期望: ID               当前: y                 匹配 ID
32     3              期望: ASSIGN           当前: =                 匹配 ASSIGN
33     4                parse_expression       x                         进入expression分析
34     5                  parse_term           x                         进入term分析
35     6                    parse_factor       x                         进入factor分析
36     6                    factor → ID      x                         识别标识符
37     6                    期望: ID         当前: x                 匹配 ID
38     6                    parse_factor       完成                    退出factor分析
39     5                  term → term * factor *                         识别乘法
40     5                  期望: MUL          当前: *                 匹配 MUL
41     6                    parse_factor       3                         进入factor分析
42     6                    factor → NUM     3                         识别数字
43     6                    期望: NUM        当前: 3                 匹配 NUM
44     6                    parse_factor       完成                    退出factor分析
45     5                  parse_term           完成                    退出term分析
46     4                parse_expression       完成                    退出expression分析
47     3              期望: SEMICOLON        当前: ;                 匹配 SEMICOLON
48     3              parse_assignment         完成                    退出assignment分析
49     2            parse_statement            完成                    退出statement分析
50     2            parse_statement            if                        进入statement分析
51     3              parse_if                 if                        进入if分析
52     3              期望: IF               当前: if                匹配 IF
53     4                parse_condition        x                         进入condition分析
54     5                  parse_expression     x                         进入expression分析
55     6                    parse_term         x                         进入term分析
56     7                      parse_factor     x                         进入factor分析
57     7                      factor → ID    x                         识别标识符
58     7                      期望: ID       当前: x                 匹配 ID
59     7                      parse_factor     完成                    退出factor分析
60     6                    parse_term         完成                    退出term分析
61     5                  parse_expression     完成                    退出expression分析
62     4                condition → expression relop expression >                         识别关系表达式
63     4                期望: GT             当前: >                 匹配 GT
64     5                  parse_expression     15                        进入expression分析
65     6                    parse_term         15                        进入term分析
66     7                      parse_factor     15                        进入factor分析
67     7                      factor → NUM   15                        识别数字
68     7                      期望: NUM      当前: 15                匹配 NUM
69     7                      parse_factor     完成                    退出factor分析
70     6                    parse_term         完成                    退出term分析
71     5                  parse_expression     完成                    退出expression分析
72     4                parse_condition        完成                    退出condition分析
73     3              期望: THEN             当前: then              匹配 THEN
74     4                parse_statement        z                         进入statement分析
75     5                  parse_assignment     z                         进入assignment分析
76     5                  assignment → ID = expression ; z                         识别赋值语句
77     5                  期望: ID           当前: z                 匹配 ID
78     5                  期望: ASSIGN       当前: =                 匹配 ASSIGN
79     6                    parse_expression   "Greater"                 进入expression分析
80     7                      parse_term       "Greater"                 进入term分析
81     8                        parse_factor   "Greater"                 进入factor分析
82     8                        factor → STRING "Greater"                 识别字符串
83     8                        期望: STRING 当前: "Greater"         匹配 STRING
84     8                        parse_factor   完成                    退出factor分析
85     7                      parse_term       完成                    退出term分析
86     6                    parse_expression   完成                    退出expression分析
87     5                  期望: SEMICOLON    当前: ;                 匹配 SEMICOLON
88     5                  parse_assignment     完成                    退出assignment分析
89     4                parse_statement        完成                    退出statement分析
90     3              if → if ... else statement else                      识别else分支
91     3              期望: ELSE             当前: else              匹配 ELSE
92     4                parse_statement        z                         进入statement分析
93     5                  parse_assignment     z                         进入assignment分析
94     5                  assignment → ID = expression ; z                         识别赋值语句
95     5                  期望: ID           当前: z                 匹配 ID
96     5                  期望: ASSIGN       当前: =                 匹配 ASSIGN
97     6                    parse_expression   "Less"                    进入expression分析
98     7                      parse_term       "Less"                    进入term分析
99     8                        parse_factor   "Less"                    进入factor分析
100    8                        factor → STRING "Less"                    识别字符串
101    8                        期望: STRING 当前: "Less"            匹配 STRING
102    8                        parse_factor   完成                    退出factor分析
103    7                      parse_term       完成                    退出term分析
104    6                    parse_expression   完成                    退出expression分析
105    5                  期望: SEMICOLON    当前: ;                 匹配 SEMICOLON
106    5                  parse_assignment     完成                    退出assignment分析
107    4                parse_statement        完成                    退出statement分析
108    3              parse_if                 完成                    退出if分析
109    2            parse_statement            完成                    退出statement分析
110    2            parse_statement            while                     进入statement分析
111    3              parse_while              while                     进入while分析
112    3              期望: WHILE            当前: while             匹配 WHILE
113    4                parse_condition        y                         进入condition分析
114    5                  parse_expression     y                         进入expression分析
115    6                    parse_term         y                         进入term分析
116    7                      parse_factor     y                         进入factor分析
117    7                      factor → ID    y                         识别标识符
118    7                      期望: ID       当前: y                 匹配 ID
119    7                      parse_factor     完成                    退出factor分析
120    6                    parse_term         完成                    退出term分析
121    5                  parse_expression     完成                    退出expression分析
122    4                condition → expression relop expression <                         识别关系表达式
123    4                期望: LT             当前: <                 匹配 LT
124    5                  parse_expression     100                       进入expression分析
125    6                    parse_term         100                       进入term分析
126    7                      parse_factor     100                       进入factor分析
127    7                      factor → NUM   100                       识别数字
128    7                      期望: NUM      当前: 100               匹配 NUM
129    7                      parse_factor     完成                    退出factor分析
130    6                    parse_term         完成                    退出term分析
131    5                  parse_expression     完成                    退出expression分析
132    4                parse_condition        完成                    退出condition分析
133    3              期望: DO               当前: do                匹配 DO
134    4                parse_statement        y                         进入statement分析
135    5                  parse_assignment     y                         进入assignment分析
136    5                  assignment → ID = expression ; y                         识别赋值语句
137    5                  期望: ID           当前: y                 匹配 ID
138    5                  期望: ASSIGN       当前: =                 匹配 ASSIGN
139    6                    parse_expression   y                         进入expression分析
140    7                      parse_term       y                         进入term分析
141    8                        parse_factor   y                         进入factor分析
142    8                        factor → ID  y                         识别标识符
143    8                        期望: ID     当前: y                 匹配 ID
144    8                        parse_factor   完成                    退出factor分析
145    7                      parse_term       完成                    退出term分析
146    6                    expression → expression + term +                         识别加法
147    6                    期望: PLUS       当前: +                 匹配 PLUS
148    7                      parse_term       10                        进入term分析
149    8                        parse_factor   10                        进入factor分析
150    8                        factor → NUM 10                        识别数字
151    8                        期望: NUM    当前: 10                匹配 NUM
152    8                        parse_factor   完成                    退出factor分析
153    7                      parse_term       完成                    退出term分析
154    6                    parse_expression   完成                    退出expression分析
155    5                  期望: SEMICOLON    当前: ;                 匹配 SEMICOLON
156    5                  parse_assignment     完成                    退出assignment分析
157    4                parse_statement        完成                    退出statement分析
158    3              parse_while              完成                    退出while分析
159    2            parse_statement            完成                    退出statement分析
160    1          期望: END                  当前: end               匹配 END
161    1          parse_block                  完成                    退出block分析
162    0        parse_program                  完成                    程序分析完成

抽象语法树(AST):
Program: program (行:1)
  Block: block (行:1)
    Assignment: x (行:2)
      BinaryOp: + (行:2)
        NUM: 10 (行:2)
        NUM: 20 (行:2)
    Assignment: y (行:3)
      BinaryOp: * (行:3)
        ID: x (行:3)
        NUM: 3 (行:3)
    If: if-else (行:5)
      If: if (行:5)
        Condition: condition (行:5)
          ID: x (行:5)
          RelOp: > (行:5)
          NUM: 15 (行:5)
        Assignment: z (行:6)
          STRING: "Greater" (行:6)
      Assignment: z (行:8)
        STRING: "Less" (行:8)
    While: while (行:10)
      Condition: condition (行:10)
        ID: y (行:10)
        RelOp: < (行:10)
        NUM: 100 (行:10)
      Assignment: y (行:11)
        BinaryOp: + (行:11)
          ID: y (行:11)
          NUM: 10 (行:11)
